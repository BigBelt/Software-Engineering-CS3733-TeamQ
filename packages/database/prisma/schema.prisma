
// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider   = "prisma-client-js"
  output     = "../.prisma/client"
  engineType = "binary"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_URL")
}

model Node {
  nodeId        String          @id
  xcords        Float
  ycords        Float
  building      String
  floor         String
  nodeType      String
  longName      String
  shortName     String
  outgoing      Edge[]          @relation(name: "startNode")
  incoming      Edge[]          @relation(name: "endNode")
  flowerRequest FlowerRequest[] @relation(name: "node")
}

model Edge {
  edgeId      String @id
  startNodeId String
  endNodeId   String
  startNode   Node   @relation(name: "startNode", fields: [startNodeId], references: [nodeId])
  endNode     Node   @relation(name: "endNode", fields: [endNodeId], references: [nodeId])
}

model FlowerRequest {
  id          String @id
  roomToDeliver      String
  node        Node   @relation(name: "node", fields: [roomToDeliver], references: [nodeId])
  flowerName String
  requestDate DateTime @default(now())
  loginName String
  commentOnFlower String
  totalPayment Float
}
